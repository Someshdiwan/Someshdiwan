<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <style>
    :root{
      --w: 600px;
      --h: 360px;
    }
    html,body{height:100%;margin:0;padding:0;background:transparent;}
    body{
      width:var(--w);
      height:var(--h);
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Segoe UI",Roboto,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .frame{
      width:420px;
      height:300px;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    svg.sticky{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
    }
    .card {
      width:86%;
      height:78%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      z-index:3;
      color:#012;
      text-align:center;
    }
    .title { font-size:15px; color:#6b5a1f; font-weight:700; letter-spacing:0.2px; margin-bottom:6px; }
    .hours { font-size:44px; color:#2b2b2b; font-weight:800; margin:4px 0; }
    .sub { font-size:12px; color:#6b6b6b; margin-top:6px; }
    .donuts { display:flex; gap:12px; margin-top:12px; justify-content:center; }
    .donut { width:72px; height:72px; position:relative; display:flex; align-items:center; justify-content:center; border-radius:50%; background:transparent; }
    .donut svg{ width:72px;height:72px; transform:rotate(-90deg); }
    .donut .inner{ position:absolute; width:36px; height:36px; border-radius:50%; background:#fff8e6; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; color:#2b2b2b;}
    .note-click { font-size:11px; color:rgba(43,43,43,0.65); margin-top:10px; }
  </style>
</head>
<body>
<div class="frame" role="img" aria-label="WakaTime sticky">
  <svg class="sticky" viewBox="0 0 420 300" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
        <feDropShadow dx="6" dy="10" stdDeviation="12" flood-color="#000" flood-opacity="0.45"/>
      </filter>
    </defs>

    <g filter="url(#shadow)">
      <path d="M18 18 h320 a16 16 0 0 1 16 16 v160 a16 16 0 0 1 -16 16 h-148 q-12 8 -24 8 t-24 -8 h-144 z" fill="#fff4b8" stroke="#f0dfa0" stroke-width="1.2"/>
      <path d="M330 162 q0 10 -10 18 l-24 12 q-10 8 -18 6" fill="#ffee9e" opacity="0.95"/>
      <path d="M328 34 q-4 16 -18 24" stroke="#f5e0a0" stroke-width="1.2" fill="none" opacity="0.6"/>
      <path d="M328 34 q6 6 6 14" stroke="#f8e9b0" stroke-width="1" fill="none" opacity="0.3"/>
      <path d="M254 234 q10 -4 22 -12" stroke="#f2e3a0" stroke-width="1" fill="none" opacity="0.4"/>
    </g>

    <g transform="translate(290,28) rotate(12)">
      <path d="M0 0 q18 10 0 40 q-10 12 -30 12" fill="#fff0a8" opacity="0.95"/>
    </g>

    <ellipse cx="310" cy="36" rx="6" ry="3" fill="#fff8d8" opacity="0.7"/>
  </svg>

  <div class="card">
    <div class="title">WakaTime (All Time)</div>
    <div class="hours" id="hours">0.0</div>
    <div class="sub" id="sub">hrs coding</div>

    <div class="donuts" id="donuts"></div>
    <div class="note-click">Click image to open WakaTime profile</div>
  </div>
</div>

<script>
  const DATA = window.__WAKA_DATA__ || { hours: "0.0", languages: [] };
  const hoursEl = document.getElementById('hours');
  const subEl = document.getElementById('sub');
  hoursEl.textContent = (DATA.hours || "0.0");
  subEl.textContent = 'hrs coding';

  const donutsWrap = document.getElementById('donuts');
  const langs = (DATA.languages || []).slice(0,3);
  if (langs.length === 0) {
    const p = document.createElement('div'); p.style.color = '#6b6b6b'; p.style.fontSize='13px'; p.textContent = 'No data';
    donutsWrap.appendChild(p);
  } else {
    langs.forEach(lang => {
      const pct = Math.max(0, Math.min(100, Number(lang.percent || 0)));
      const color = lang.color || '#f6a936';
      const donut = document.createElement('div'); donut.className = 'donut';
      const svgNS = 'http://www.w3.org/2000/svg';
      const svg = document.createElementNS(svgNS,'svg'); svg.setAttribute('viewBox','0 0 100 100');
      const bg = document.createElementNS(svgNS,'circle'); bg.setAttribute('cx','50'); bg.setAttribute('cy','50'); bg.setAttribute('r','40'); bg.setAttribute('fill','none'); bg.setAttribute('stroke','#efe0bd'); bg.setAttribute('stroke-width','18'); svg.appendChild(bg);
      const arc = document.createElementNS(svgNS,'circle'); arc.setAttribute('cx','50'); arc.setAttribute('cy','50'); arc.setAttribute('r','40'); arc.setAttribute('fill','none'); arc.setAttribute('stroke',color); arc.setAttribute('stroke-width','18'); arc.setAttribute('stroke-linecap','round');
      const circumference = 2*Math.PI*40; const offset = circumference * (1 - pct/100);
      arc.setAttribute('stroke-dasharray', `${circumference} ${circumference}`); arc.setAttribute('stroke-dashoffset', `${offset}`);
      svg.appendChild(arc);
      donut.appendChild(svg);
      const inner = document.createElement('div'); inner.className='inner'; inner.style.width='36px'; inner.style.height='36px'; inner.style.borderRadius='50%'; inner.style.background='#fff4cf'; inner.style.display='flex'; inner.style.alignItems='center'; inner.style.justifyContent='center'; inner.style.flexDirection='column'; inner.style.fontSize='11px'; inner.style.fontWeight='700'; inner.style.color='#2b2b2b';
      inner.innerHTML = `<div>${lang.name}</div><div style="color:#806015;margin-top:4px;font-size:11px">${Math.round(pct)}%</div>`;
      donut.appendChild(inner);
      donutsWrap.appendChild(donut);
    });
  }
</script>
</body>
</html>
